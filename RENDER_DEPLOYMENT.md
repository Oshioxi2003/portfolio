# 🚀 Render Deployment Guide - oshioxi.site Portfolio

## 🎯 **Overview**

Deploy your Django portfolio to **Render** with **SQLite** database - Simple, Fast, and Free!

### **✅ Why Render + SQLite?**
- **🆓 Free Tier:** No cost to start
- **🚀 Simple Deploy:** Just connect GitHub and deploy
- **📁 SQLite:** No external database needed
- **🔄 Auto Deploy:** Automatic deploys from GitHub
- **🌐 HTTPS:** Free SSL certificates
- **📊 Persistent Storage:** 1GB disk for database
- **⚡ Fast:** Global CDN and fast builds

## 🔧 **Pre-Deployment Setup**

### **✅ Files Created:**
- `📄 requirements.txt` - Updated for SQLite (removed MySQL)
- `🐳 Dockerfile.render` - Optimized for Render
- `⚙️ render.yaml` - Render configuration  
- `🛠️ build.sh` - Automated build script
- `🔐 render_env_template.txt` - Environment variables
- `⚙️ settings.py` - Updated database configuration

### **🗃️ Database Changes:**
```python
# ✅ Before: MySQL (Complex setup)
'ENGINE': 'django.db.backends.mysql'

# ✅ After: SQLite (Simple file-based)  
'ENGINE': 'django.db.backends.sqlite3'
'NAME': '/app/data/db.sqlite3'  # Persistent disk
```

## 🚀 **Step-by-Step Deployment**

### **1. Prepare Repository**

```bash
# Push all changes to GitHub
git add .
git commit -m "Ready for Render deployment with SQLite"
git push origin main
```

### **2. Create Render Account**

1. **Go to:** [render.com](https://render.com)
2. **Sign up** with GitHub account
3. **Authorize** Render to access your repositories

### **3. Deploy Web Service**

#### **Option A: Using render.yaml (Recommended)**

1. **Connect Repository:**
   - Dashboard → "New" → "Blueprint"
   - Connect your GitHub repository
   - Render will auto-detect `render.yaml`

2. **Review Configuration:**
   ```yaml
   name: oshioxi-portfolio
   env: python
   region: singapore
   plan: free
   buildCommand: "./build.sh"
   startCommand: "gunicorn --bind 0.0.0.0:$PORT --workers 2 portfolio_site.wsgi"
   ```

3. **Deploy:** Click "Apply" and wait for build

#### **Option B: Manual Configuration**

1. **New Web Service:**
   - Dashboard → "New" → "Web Service"
   - Connect GitHub repository

2. **Configure Service:**
   ```
   Name: oshioxi-portfolio
   Environment: Python 3
   Region: Singapore
   Branch: main
   Root Directory: (leave blank)
   
   Build Command: ./build.sh
   Start Command: gunicorn --bind 0.0.0.0:$PORT --workers 2 --timeout 120 portfolio_site.wsgi:application
   ```

3. **Plan:** Select "Free" tier

### **4. Configure Environment Variables**

In Render Dashboard → Service → Environment:

```env
# Required Variables
DEBUG=False
SECRET_KEY=<auto-generated-by-render>
ALLOWED_HOSTS=your-app-name.onrender.com,*.onrender.com
RENDER=true

# Admin User (Optional)
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@oshioxi.site
DJANGO_SUPERUSER_PASSWORD=your-secure-password

# Email (Optional)
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
```

### **5. Add Persistent Disk**

1. **Go to:** Service Settings → Disks
2. **Add Disk:**
   ```
   Name: portfolio-data
   Mount Path: /app/data
   Size: 1 GB (Free tier limit)
   ```
3. **Save** and **Redeploy**

## 🌐 **Custom Domain Setup (Optional)**

### **1. Add Custom Domain:**
```
Render Dashboard → Service → Settings → Custom Domains
Add: oshioxi.site
Add: www.oshioxi.site
```

### **2. Update DNS Records:**
```dns
# A Record
oshioxi.site → <render-ip-address>

# CNAME Record  
www.oshioxi.site → your-app-name.onrender.com
```

### **3. Update Environment:**
```env
ALLOWED_HOSTS=oshioxi.site,www.oshioxi.site,your-app-name.onrender.com
```

## 🔒 **Security & Performance**

### **✅ Built-in Security:**
- **HTTPS Enforced:** Automatic SSL certificates
- **Security Headers:** XSS, CSRF protection
- **Environment Variables:** Secure credential storage
- **Non-root User:** Container security
- **SQLite Timeout:** Prevents database locks

### **✅ Performance Optimizations:**
- **Gunicorn:** 2 workers for free tier
- **Static Files:** Whitenoise serving
- **Gzip Compression:** Automatic
- **CDN:** Global content delivery
- **Persistent Disk:** Fast database access

## 📊 **Monitoring & Maintenance**

### **🔍 Health Monitoring:**

1. **Service Status:** Render Dashboard
2. **Logs:** Real-time logs in dashboard  
3. **Metrics:** CPU, Memory, Response time
4. **Uptime:** 99.9% SLA on paid plans

### **📋 Logs Access:**
```bash
# View in Render Dashboard
Service → Logs → Real-time logs

# Download logs
Service → Logs → Download
```

### **🔄 Auto-Deploy:**
- **GitHub Integration:** Automatic deploys on push
- **Branch Protection:** Deploy from main branch only
- **Build Notifications:** Email/Slack alerts

## 🗄️ **Database Management**

### **✅ SQLite Benefits:**
- **No Setup:** Works out of the box
- **Persistent:** Stored on disk volume
- **Backup:** Included in disk snapshots
- **Performance:** Fast for small-medium apps
- **Maintenance:** Zero database administration

### **💾 Database Backup:**

```bash
# Manual backup (via SSH if available)
sqlite3 /app/data/db.sqlite3 ".backup backup.sqlite3"

# Automated backup via scheduled job
# Create separate service type: "Cron Job"
# Command: python manage.py dbshell ".backup /app/data/backup_$(date +%Y%m%d).sqlite3"
```

### **📈 Database Scaling:**
```python
# SQLite limits (when to consider PostgreSQL):
# - Concurrent writes: ~1000/sec
# - Database size: ~100GB  
# - Concurrent readers: unlimited
# - Good for most portfolio sites!
```

## 🚨 **Troubleshooting**

### **❌ Common Issues:**

**1. Build Failed:**
```bash
# Check build.sh permissions
# Render automatically handles this on Linux

# Check requirements.txt
pip install -r requirements.txt
```

**2. Database Errors:**
```bash
# Check disk mount
ls -la /app/data

# Check SQLite permissions
sqlite3 /app/data/db.sqlite3 ".tables"
```

**3. Static Files Not Loading:**
```bash
# Check collectstatic in build
python manage.py collectstatic --noinput

# Check STATIC_URL in settings
DEBUG=False requires collectstatic
```

**4. Environment Variables:**
```bash
# Check in Render Dashboard
Service → Environment → Verify all variables

# Check in app logs
echo $DEBUG, $SECRET_KEY in logs
```

### **🔧 Debug Commands:**

```bash
# In Render Shell (if available)
python manage.py check
python manage.py migrate --check
python manage.py collectstatic --dry-run
```

## 💰 **Pricing & Limits**

### **🆓 Free Tier:**
- **Web Service:** 750 hours/month
- **Bandwidth:** 100GB/month
- **Build Time:** 500 minutes/month
- **Sleep Mode:** After 15 minutes inactivity
- **Disk:** 1GB persistent storage
- **Memory:** 512MB RAM
- **CPU:** Shared

### **💎 Paid Plans ($7/month):**
- **Always On:** No sleep mode
- **More Resources:** 1GB RAM, dedicated CPU
- **Custom Domains:** Unlimited
- **Priority Support:** Faster builds
- **Advanced Metrics:** Detailed monitoring

## 🎯 **Performance Expectations**

### **📈 Free Tier Performance:**
- **Cold Start:** 10-30 seconds (after sleep)
- **Warm Response:** <500ms
- **Concurrent Users:** 10-50
- **Database:** SQLite handles 1000+ requests/sec
- **Uptime:** 99%+ (with sleep mode)

### **⚡ Optimization Tips:**
```python
# Keep service warm (paid plans)
# Use external monitoring (UptimeRobot)
# Optimize database queries
# Use caching for static content
# Minimize cold start time
```

## 🌟 **Success Checklist**

### **✅ Deployment Complete:**
1. **✅ Service Running:** Green status in dashboard
2. **✅ Domain Active:** https://your-app.onrender.com
3. **✅ Database Working:** Can access admin panel  
4. **✅ Static Files:** CSS/JS loading correctly
5. **✅ Mobile Responsive:** Navigation works on mobile
6. **✅ Theme Toggle:** Dark/light mode functional
7. **✅ Language Switch:** Vietnamese/English working
8. **✅ Admin Access:** Can login to /admin
9. **✅ Contact Form:** Form submission works
10. **✅ SSL Certificate:** HTTPS enforced

### **🔗 Final URLs:**
- **Portfolio:** https://oshioxi-portfolio.onrender.com
- **Admin Panel:** https://oshioxi-portfolio.onrender.com/admin
- **Custom Domain:** https://oshioxi.site (if configured)

## 🚀 **Next Steps**

### **🎨 Customization:**
1. **Update Content:** Add your real projects and info
2. **Upload Media:** Add your photos and project images
3. **SEO Optimization:** Add meta descriptions and keywords
4. **Analytics:** Add Google Analytics
5. **Performance:** Monitor and optimize

### **📈 Scaling Options:**
- **Upgrade Plan:** More resources and always-on
- **Add Redis:** For caching (separate service)
- **CDN Integration:** For media files
- **Database Migration:** PostgreSQL for high traffic
- **Load Balancer:** Multiple service instances

## 💡 **Pro Tips**

### **🔥 Render Best Practices:**
```bash
# 1. Use environment variables for all secrets
# 2. Enable auto-deploy from main branch
# 3. Set up monitoring alerts
# 4. Regular dependency updates
# 5. Use persistent disk for uploads
# 6. Optimize Docker image size
# 7. Monitor build times
# 8. Use health checks
```

### **⚡ Performance Optimization:**
```python
# settings.py optimizations
CONN_MAX_AGE = 60  # Database connection pooling
SESSION_COOKIE_AGE = 1209600  # 2 weeks
SESSION_SAVE_EVERY_REQUEST = False

# Static files optimization
STATICFILES_STORAGE = 'whitenoise.storage.CompressedManifestStaticFilesStorage'
```

## 🎉 **Congratulations!**

**🌟 Your Django portfolio is now live on Render with:**
- ✅ **Free hosting** with SQLite database
- ✅ **Automatic HTTPS** and SSL certificates  
- ✅ **Mobile-responsive** navigation
- ✅ **Dark/Light theme** switching
- ✅ **Bilingual support** (Vietnamese/English)
- ✅ **Admin dashboard** for content management
- ✅ **Contact form** functionality
- ✅ **SEO-optimized** structure

**🚀 Visit your live portfolio at:** https://oshioxi-portfolio.onrender.com

---

## 📞 **Support Resources**

- **Render Docs:** [render.com/docs](https://render.com/docs)
- **Django on Render:** [render.com/docs/deploy-django](https://render.com/docs/deploy-django)
- **Status Page:** [status.render.com](https://status.render.com)
- **Community:** [community.render.com](https://community.render.com)

**🎊 Happy coding! Your portfolio is ready to impress! 🌟** 